<div th:fragment="loading">
    <style>
        /* Overlay dim + backdrop blur */
        .glass-overlay {
            background-color: rgba(0, 0, 0, 0.36);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
        }

        /* Stronger shadow under the card to lift it visually */
        .glass-overlay .glass-card {
            box-shadow: 0 24px 60px rgba(2, 6, 23, 0.28), 0 6px 18px rgba(2, 6, 23, 0.12);
        }

        /* Entrance transition when the 'hidden' class is removed by loading.js */
        #global-loading {
            opacity: 0;
            transform: translateY(8px) scale(0.99);
            transition: opacity 220ms cubic-bezier(.2, .8, .2, 1), transform 220ms cubic-bezier(.2, .8, .2, 1);
        }

        #global-loading:not(.hidden) {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    </style>
    <div id="global-loading" class="hidden fixed inset-0 z-[100] flex items-center justify-center glass-overlay">
        <div
            class="glass-card max-w-sm w-full mx-4 p-10 rounded-2xl shadow-2xl flex flex-col items-center gap-8 text-center">
            <div class="mb-6 flex justify-center">
                <div
                    class="size-20 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600 shadow-inner">
                    <span class="material-symbols-outlined text-5xl font-bold">check_circle</span>
                </div>
            </div>
            <div class="space-y-3">
                <h3 class="text-sm font-extrabold text-slate-900 uppercase tracking-tight"></h3>
                <p class="text-[12px] font-medium text-slate-500 leading-relaxed px-4">
                    texto dinamico
                </p>
            </div>
            <div class="flex items-center gap-1.5 opacity-40">
                <div class="size-1 bg-primary rounded-full"></div>
                <span class="text-[8px] font-extrabold uppercase tracking-[0.2em] text-slate-400">Protocolo
                    seguro</span>
            </div>
        </div>
    </div>
</div>